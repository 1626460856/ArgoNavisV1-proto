syntax = "proto3";

package StuNoticeCheck;

import "google/api/annotations.proto";

option go_package = "ArgoNavisV3/TeaNoticeCheck/api/stuNoticeCheck/v1;stuNoticeCheck";

// 学生端通知服务定义
service StuCheck {
  // 获取已完成通知详情
  rpc GetNotice (GetfinishNoticeReq) returns (GetfinishNoticeResp) {
    option (google.api.http) = {
      get: "/student/noitce/finifsh/details/{notice_id}"
    };
  }
  
  // 获取未完成通知详情
  rpc GetUnfinishedNotice (GetUnfinishedNoticeReq) returns (GetUnfinishedNoticeResp) {
    option (google.api.http) = {
      get: "/student/notice/unfinish/details/{notice_id}"
    };
  }
  
  // 搜索通知
  rpc SearchNotice (SearchNoticeReq) returns (SearchNoticeResp) {
    option (google.api.http) = {
      get: "/student/search/notice"
    };
  }
  
  // 获取已归档通知列表
  rpc GetArchivedNoticeList (GetArchivedNoticeListReq) returns (GetArchivedNoticeListResp) {
    option (google.api.http) = {
      get: "/student/notice/finfish/list"
    };
  }
  
  // 获取未完成通知列表
  rpc GetUnfinishedNoticeList (GetUnfinishedNoticeListReq) returns (GetUnfinishedNoticeListResp) {
    option (google.api.http) = {
      get: "/student/notice/unfinish/list"
    };
  }
}

// 获取已完成通知详情的通知ID的请求消息
message GetfinishNoticeReq {
  int32 notice_id = 1;
}

// 获取已完成通知详情的响应消息
message GetfinishNoticeResp {
  int32 code = 1;
  string msg = 2;
  int32 notice_id = 3;
  string priority = 4;
  string notice_title = 5;
  string notice_context = 6;
  string deadline = 7;
  repeated FileInfo file_list = 8;
  string status = 9;
  string receipt_style_id = 10;
  repeated ReceiptStyleColumn receipt_style = 11;
  string receipt_write_id = 12;
  repeated ReceiptWriteColumn receipt_write = 13;
}

// 获取未完成通知详情的通知ID的请求消息
message GetUnfinishedNoticeReq {
  int32 notice_id = 1;
}

// 包含未完成通知详情的响应消息
message GetUnfinishedNoticeResp {
  int32 code = 1;
  string msg = 2;
  int32 notice_id = 3;
  string priority = 4;
  string notice_title = 5;
  string notice_context = 6;
  string deadline = 7;
  string state = 8;
  repeated FileInfo file_list = 9;
  string receipt_style_id = 10;
  repeated ReceiptStyleColumn receipt_style = 11;
}

// 包含搜索关键字的请求消息
message SearchNoticeReq {
  string keyword = 1;
}

// 包含搜索结果的响应消息
message SearchNoticeResp {
  int32 code = 1;
  string msg = 2;
  repeated SearchNoticeItem search_notice_list = 3;
}

// 搜索结果项
message SearchNoticeItem {
  int32 notice_id = 1;
  string priority = 2;
  string notice_title = 3;
  string deadline = 4;
  string remain_time = 5;
  string notice_context = 6;
}

// 获取已归档通知列表的请求消息（空请求）
message GetArchivedNoticeListReq {
}

// 包含已归档通知列表的响应消息
message GetArchivedNoticeListResp {
  int32 code = 1;
  string msg = 2;
  repeated ArchivedNoticeItem finish_notice_list = 3;
}

// 已归档通知项
message ArchivedNoticeItem {
  int32 notice_id = 1;
  string priority = 2;
  string notice_title = 3;
  string deadline = 4;
  string remain_time = 5;
  string notice_context = 6;
}

// 获取未完成通知列表的请求消息（空请求）
message GetUnfinishedNoticeListReq {
}

// 包含未完成通知列表的响应消息
message GetUnfinishedNoticeListResp {
  int32 code = 1;
  string msg = 2;
  repeated UnfinishedNoticeItem unfinish_notice_list = 3;
}

// 未完成通知项
message UnfinishedNoticeItem {
  int32 notice_id = 1;
  string priority = 2;
  string notice_title = 3;
  string deadline = 4;
  string remain_time = 5;
  string notice_context = 6;
}

// 文件信息
message FileInfo {
  string file_name = 1;
  string file_url = 2;
}

// 收集表格式定义
message ReceiptStyleColumn {
  string receiptColumnName = 1;
  int32 SingleOption = 2;
  repeated string optionList = 3;
}

// 收集表填写内容
message ReceiptWriteColumn {
  string receiptColumnName = 1;
  repeated string options = 2;
}
